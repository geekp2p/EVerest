# Curl examples for ChargeBridge API
# Replace HOST with 45.136.236.186 when calling these commands
# Add the API key header to authenticate: -H "X-API-Key: changeme-123"

# --- Station and connector information ---
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/status
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/overview
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/health
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/stations
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/stations/1
curl -X POST http://45.136.236.186:8080/api/v1/stations -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"name":"Demo","location":"TheMansion"}'
curl -X DELETE http://45.136.236.186:8080/api/v1/stations/1 -H "X-API-Key: changeme-123"
curl -X POST http://45.136.236.186:8080/api/v1/availability -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1,"available":true}'
curl -X POST http://45.136.236.186:8080/api/v1/reset -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","type":"Soft"}'

# --- OCPP session control ---
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/pending
curl -X POST http://45.136.236.186:8080/api/v1/start -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1,"id_tag":"VID:FCA47A147858"}'
curl -X POST http://45.136.236.186:8080/api/v1/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","transactionId":1}'
curl -X POST http://45.136.236.186:8080/api/v1/release -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1}'
curl -X POST http://45.136.236.186:8080/charge/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1}'
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/active
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/history

# --- In-memory session helpers ---
curl -X POST http://45.136.236.186:8080/api/v1/sessions/1/start -H "Content-Type: application/json" -d '{"vehicleId":"VID:TEST001"}'
curl -X POST http://45.136.236.186:8080/api/v1/sessions/1/stop -H "Content-Type: application/json" -d '{"kWhDelivered":5.3}'
curl http://45.136.236.186:8080/api/v1/sessions/VID:TEST001

# --- Simulator tools (port 7071) ---
curl -X POST http://45.136.236.186:7071/plug/1
curl -X POST http://45.136.236.186:7071/unplug/1

# --- Windows CMD one-line examples ---
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/status
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/overview
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/pending
curl -X POST http://45.136.236.186:8080/api/v1/start -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d "{\"cpid\":\"Gresgying01\",\"connectorId\":1,\"id_tag\":\"VID:FCA47A147858\"}"
curl -X POST http://45.136.236.186:8080/api/v1/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d "{\"cpid\":\"Gresgying01\",\"transactionId\":1}"
curl -X POST http://45.136.236.186:8080/api/v1/release -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d "{\"cpid\":\"Gresgying01\",\"connectorId\":1}"
curl -X POST http://45.136.236.186:8080/api/v1/availability -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d "{\"cpid\":\"Gresgying01\",\"connectorId\":1,\"available\":true}"
curl -X POST http://45.136.236.186:8080/api/v1/reset -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d "{\"cpid\":\"Gresgying01\",\"type\":\"Soft\"}"

python -m compileall ocpp