OCPP 1.6 JSON & SOAP Support ‚Äì High-Level Work Plan

1. Architecture & Planning

1.1 Assess Current State

-   ‡∏£‡∏∞‡∏ö‡∏∏‡πÇ‡∏°‡∏î‡∏π‡∏• ‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏• ‡πÅ‡∏•‡∏∞ dependencies ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
-   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ OCPP (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß) ‡∏ñ‡∏π‡∏Å implement ‡πÑ‡∏ß‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

1.2 Define Core OCPP Abstractions

-   ‡∏™‡∏£‡πâ‡∏≤‡∏á shared interface/service layer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö OCPP operations ‡πÄ‡∏ä‡πà‡∏ô
    BootNotification, StatusNotification
-   ‡∏ó‡∏≥‡πÉ‡∏´‡πâ interface ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö transport (JSON ‡∏´‡∏£‡∏∑‡∏≠ SOAP)

1.3 Separate Protocol Implementations

-   ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô transport modules 2 ‡πÅ‡∏ö‡∏ö
    -   OCPP-J ‚Üí JSON over WebSocket
    -   OCPP-S ‚Üí SOAP over HTTP
-   ‡πÅ‡∏ï‡πà‡∏•‡∏∞ transport module ‡∏î‡∏π‡πÅ‡∏• connection,
    serialization/deserialization, ‡πÅ‡∏•‡∏∞ error handling ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
-   ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ core logic ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

1.4 Message & Schema Validation

-   JSON ‚Üí ‡πÉ‡∏ä‡πâ JSON schemas ‡∏à‡∏≤‡∏Å
    OCPP_1.6_documentation_2019_12/schemas/json
-   SOAP ‚Üí ‡πÉ‡∏ä‡πâ WSDL ‡∏à‡∏≤‡∏Å OCPP_1.6_documentation_2019_12/schemas/soap

1.5 Extensibility & Versioning

-   ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô (1.6J, 1.6S, ‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)
-   ‡πÉ‡∏ä‡πâ config flags ‡∏´‡∏£‡∏∑‡∏≠ version-specific modules
-   ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å runtime ‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ JSON ‡∏´‡∏£‡∏∑‡∏≠ SOAP

------------------------------------------------------------------------

2. Implementation Steps

2.1 Core Module

-   ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡∏õ‡∏£‡∏±‡∏ö core service layer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö OCPP business logic
    (registration, transactions, status reporting)
-   ‡πÄ‡∏Å‡πá‡∏ö persistence/business rules ‡πÉ‡∏ô core layer ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ
    protocol-independent

2.2 JSON Module

-   ‡πÄ‡∏û‡∏¥‡πà‡∏° WebSocket handlers ‡πÅ‡∏•‡∏∞ JSON message parsers
-   ‡πÅ‡∏õ‡∏•‡∏á messages ‚Üí domain objects ‚Üí core logic
-   Serialize responses ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON

2.3 SOAP Module

-   Generate client/server code ‡∏à‡∏≤‡∏Å WSDL (‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ framework ‡πÄ‡∏ä‡πà‡∏ô Apache
    CXF)
-   Implement SOAP handlers ‚Üí ‡πÅ‡∏õ‡∏•‡∏á SOAP ‚Üí domain objects ‚Üí core logic
-   ‡∏™‡πà‡∏á SOAP responses ‡∏Å‡∏•‡∏±‡∏ö (generated ‡∏´‡∏£‡∏∑‡∏≠ hand-written stubs)

2.4 Backward Compatibility

-   ‡∏£‡∏±‡∏Å‡∏©‡∏≤ code path ‡πÄ‡∏î‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢ adapters
-   ‡∏ó‡∏≥ compatibility mode ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö legacy ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞ migrate ‡πÄ‡∏™‡∏£‡πá‡∏à

------------------------------------------------------------------------

3. Testing & Validation

3.1 Unit Tests

-   ‡∏ó‡∏î‡∏™‡∏≠‡∏ö message type ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ö‡∏ö
-   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö parsing, validation (schemas/WSDL), ‡πÅ‡∏•‡∏∞ core logic
-   ‡πÄ‡∏û‡∏¥‡πà‡∏° negative tests (invalid messages)

3.2 Integration Tests

-   ‡∏ï‡∏±‡πâ‡∏á test servers (JSON/WS, SOAP/HTTP)
-   ‡∏£‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö end-to-end (BootNotification, StartTransaction,
    StopTransaction, StatusNotification, Heartbeat)
-   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö cross-compatibility (JSON vs SOAP ‚Üí ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô)

3.3 Regression Tests

-   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ legacy/core module ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ modular features

3.4 Load & Performance Tests (Optional)

-   ‡∏ñ‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏ç‡πà ‚Üí ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô concurrency ‡πÅ‡∏•‡∏∞ performance test ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á
    protocol

------------------------------------------------------------------------

4. Deployment & Rollout

4.1 Configurable Mode Selection

-   ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î JSON ‡πÅ‡∏•‡∏∞ SOAP ‡∏ú‡πà‡∏≤‡∏ô config
-   ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ switch ‡∏´‡∏£‡∏∑‡∏≠ run parallel

4.2 Monitoring & Logging

-   ‡∏ó‡∏≥ logging ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á module
-   ‡πÄ‡∏Å‡πá‡∏ö metrics ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô/‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î

4.3 Gradual Rollout

-   ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô JSON/SOAP ‡∏ó‡∏µ‡∏•‡∏∞ phase
-   ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô staging ‡∏Å‡πà‡∏≠‡∏ô production

4.4 Documentation & Support

-   ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£
-   ‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á JSON ‡πÅ‡∏•‡∏∞ SOAP (messages, CLI tools)

------------------------------------------------------------------------

5. Maintenance & Future Considerations

5.1 Schema/Spec Updates

-   ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° OCPP updates (‡πÄ‡∏ä‡πà‡∏ô 2.0.1)
-   ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô upgrade path
-   Automate schema validation

5.2 Extensibility Hooks

-   ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° message type/protocol features ‡πÉ‡∏´‡∏°‡πà

5.3 Community/Client Feedback

-   ‡πÄ‡∏Å‡πá‡∏ö feedback ‡∏à‡∏≤‡∏Å integrators
-   ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á JSON/SOAP support ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á

------------------------------------------------------------------------

üéØ Goal

‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö OCPP 1.6 JSON ‡πÅ‡∏•‡∏∞ SOAP
‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô legacy ‡πÄ‡∏î‡∏¥‡∏° ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥ rollout ‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô
‡πÅ‡∏•‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
